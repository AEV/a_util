##The version file is auto generated by CMake
include(CMakePackageConfigHelpers)
write_basic_package_version_file(${CMAKE_CURRENT_BINARY_DIR}/../a_util-config-version.cmake
                                 COMPATIBILITY AnyNewerVersion)

##install the directory containing the self-written cmake config file first so the directory exists
# inside the installation tree - afterwards, install the generated version file into this directory
install(DIRECTORY cmake DESTINATION lib)
install(FILES ${CMAKE_CURRENT_BINARY_DIR}/../a_util-config-version.cmake
        DESTINATION lib/cmake/a_util)
## Write a dummy config into the binary root, to allow the use of find_package within our own binary tree
# This allows other products to either add_subdirectory(extern/a_util) or get their a_util from the outside
file(WRITE ${CMAKE_CURRENT_BINARY_DIR}/../a_util-config.cmake "")
